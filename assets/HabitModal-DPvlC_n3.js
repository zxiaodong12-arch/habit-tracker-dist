import{k,A as w,o as m,c as g,a as t,t as d,w as b,p as s,v as i,B as u,d as V,e as j}from"./index-BDVJ00ah.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"modal-content"},U={class:"modal-header"},x={class:"form-group"},C={class:"form-group"},T={class:"form-group"},B={class:"color-picker"},D={class:"form-group"},M={class:"target-settings"},I={class:"target-type-group"},O={class:"radio-label"},q={class:"radio-label"},A={class:"radio-label"},E={class:"radio-label"},N={class:"target-count-group"},z={class:"target-count-hint"},L={class:"target-start-date-group"},R={class:"form-actions"},F={type:"submit",class:"btn btn-primary"},G={__name:"HabitModal",props:{show:Boolean,editingHabit:Object},emits:["close","submit","archive"],setup(n,{emit:v}){const y=n,p=v,a=k({name:"",emoji:"ğŸ“",color:"#10b981",target_type:"daily",target_count:1,target_start_date:new Date().toISOString().split("T")[0]});w(()=>y.editingHabit,o=>{o?a.value={name:o.name,emoji:o.emoji||"ğŸ“",color:o.color||"#10b981",target_type:o.target_type||"daily",target_count:o.target_count||1,target_start_date:o.target_start_date||new Date().toISOString().split("T")[0]}:a.value={name:"",emoji:"ğŸ“",color:"#10b981",target_type:"daily",target_count:1,target_start_date:new Date().toISOString().split("T")[0]}},{immediate:!0});const _=()=>({daily:"æ¬¡/å¤©",weekly:"æ¬¡/å‘¨",monthly:"æ¬¡/æœˆ",yearly:"æ¬¡/å¹´"})[a.value.target_type]||"æ¬¡",r=()=>{p("close")},c=()=>{p("submit",{...a.value}),r()},f=()=>{p("archive")};return(o,e)=>(m(),g("div",{class:j(["modal",{active:n.show}]),onClick:b(r,["self"])},[t("div",S,[t("div",U,[t("h2",null,d(n.editingHabit?"ç¼–è¾‘ä¹ æƒ¯":"æ·»åŠ æ–°ä¹ æƒ¯"),1),t("button",{class:"modal-close",onClick:r},"Ã—")]),t("form",{onSubmit:b(c,["prevent"])},[t("div",x,[e[9]||(e[9]=t("label",{for:"habit-name"},"ä¹ æƒ¯åç§°",-1)),s(t("input",{type:"text",id:"habit-name","onUpdate:modelValue":e[0]||(e[0]=l=>a.value.name=l),required:"",autofocus:"",placeholder:"ä¾‹å¦‚ï¼šæ¯å¤©è·‘æ­¥"},null,512),[[i,a.value.name]])]),t("div",C,[e[10]||(e[10]=t("label",{for:"habit-emoji"},"Emoji å›¾æ ‡",-1)),s(t("input",{type:"text",id:"habit-emoji","onUpdate:modelValue":e[1]||(e[1]=l=>a.value.emoji=l),maxlength:"2",placeholder:"ğŸ“"},null,512),[[i,a.value.emoji]])]),t("div",T,[e[11]||(e[11]=t("label",{for:"habit-color"},"é¢œè‰²",-1)),t("div",B,[s(t("input",{id:"habit-color",type:"color","onUpdate:modelValue":e[2]||(e[2]=l=>a.value.color=l)},null,512),[[i,a.value.color]])])]),t("div",D,[e[19]||(e[19]=t("label",null,"ç›®æ ‡è®¾ç½®",-1)),t("div",M,[t("div",I,[t("label",O,[s(t("input",{type:"radio",value:"daily","onUpdate:modelValue":e[3]||(e[3]=l=>a.value.target_type=l)},null,512),[[u,a.value.target_type]]),e[12]||(e[12]=t("span",null,"æ¯å¤©å®Œæˆ",-1))]),t("label",q,[s(t("input",{type:"radio",value:"weekly","onUpdate:modelValue":e[4]||(e[4]=l=>a.value.target_type=l)},null,512),[[u,a.value.target_type]]),e[13]||(e[13]=t("span",null,"æ¯å‘¨å®Œæˆ",-1))]),t("label",A,[s(t("input",{type:"radio",value:"monthly","onUpdate:modelValue":e[5]||(e[5]=l=>a.value.target_type=l)},null,512),[[u,a.value.target_type]]),e[14]||(e[14]=t("span",null,"æ¯æœˆå®Œæˆ",-1))]),t("label",E,[s(t("input",{type:"radio",value:"yearly","onUpdate:modelValue":e[6]||(e[6]=l=>a.value.target_type=l)},null,512),[[u,a.value.target_type]]),e[15]||(e[15]=t("span",null,"æ¯å¹´å®Œæˆ",-1))])]),t("div",N,[e[16]||(e[16]=t("label",{for:"target-count"},"ç›®æ ‡æ¬¡æ•°ï¼š",-1)),s(t("input",{id:"target-count",type:"number","onUpdate:modelValue":e[7]||(e[7]=l=>a.value.target_count=l),min:"1",max:"365",required:""},null,512),[[i,a.value.target_count,void 0,{number:!0}]]),t("span",z,d(_()),1)]),t("div",L,[e[17]||(e[17]=t("label",{for:"target-start-date"},"ç›®æ ‡å¼€å§‹æ—¥æœŸï¼š",-1)),s(t("input",{id:"target-start-date",type:"date","onUpdate:modelValue":e[8]||(e[8]=l=>a.value.target_start_date=l),required:""},null,512),[[i,a.value.target_start_date]]),e[18]||(e[18]=t("span",{class:"target-start-date-hint"}," ç”¨äºè®¡ç®—å‘¨æœŸ ",-1))])])]),t("div",R,[t("button",F,d(n.editingHabit?"ä¿å­˜":"æ·»åŠ "),1),n.editingHabit?(m(),g("button",{key:0,type:"button",class:"btn btn-secondary",onClick:f},d(n.editingHabit.archived?"å–æ¶ˆå½’æ¡£":"å½’æ¡£"),1)):V("",!0),t("button",{type:"button",class:"btn btn-secondary",onClick:r},"å–æ¶ˆ")])],32)])],2))}},P=H(G,[["__scopeId","data-v-9bbbb878"]]);export{P as H};
